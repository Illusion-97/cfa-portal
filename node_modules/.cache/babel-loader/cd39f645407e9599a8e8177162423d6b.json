{"remainingRequest":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\src\\views\\Etudiant\\EspacePedagogique\\DossierProjet.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\src\\views\\Etudiant\\EspacePedagogique\\DossierProjet.vue","mtime":1634717085154},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634732405246},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\babel-loader\\lib\\index.js","mtime":1634732404052},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634732405246},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\vue-loader\\lib\\index.js","mtime":1634732415295}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBCb2R5VGl0bGUgZnJvbSAiQC9jb21wb25lbnRzL3V0aWxzL0JvZHlUaXRsZS52dWUiOwppbXBvcnQgeyBkb3NzaWVyUHJvamV0QXBpIH0gZnJvbSAiQC9fYXBpL2Rvc3NpZXJQcm9qZXQuYXBpLmpzIjsKaW1wb3J0IHsgZmlsZUFwaSB9IGZyb20gIkAvX2FwaS9maWxlLmFwaS5qcyI7CmltcG9ydCB7IHByb2pldEFwaSB9IGZyb20gIkAvX2FwaS9wcm9qZXQuYXBpLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEb3NzaWVyUHJvIiwKICBjb21wb25lbnRzOiB7CiAgICBCb2R5VGl0bGU6IEJvZHlUaXRsZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbGVzOiBbXSwKICAgICAgZmlsZVRvU2F2ZTogIiIsCiAgICAgIGZpbGU6ICIiLAogICAgICBwcm9qZXRzOiBbXSwKICAgICAgc2VsZWN0ZWQ6IG51bGwsCiAgICAgIGZvcm06IHsKICAgICAgICBub206ICIiLAogICAgICAgIHByb2pldER0bzogbnVsbAogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMucmVmcmVzaExpc3QoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB1dGlsaXNhdGV1cjogZnVuY3Rpb24gdXRpbGlzYXRldXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFV0aWxpc2F0ZXVyOwogICAgfSwKICAgIGZpbGVzX2NvbXB1dGVkOiBmdW5jdGlvbiBmaWxlc19jb21wdXRlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZmlsZXM7CiAgICB9LAogICAgcHJvamV0c19jb21wdXRlZDogZnVuY3Rpb24gcHJvamV0c19jb21wdXRlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvamV0czsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU2VsZWN0ZWQ6IGZ1bmN0aW9uIG9uU2VsZWN0ZWQoKSB7CiAgICAgIHRoaXMuZm9ybS5wcm9qZXREdG8gPSB0aGlzLnNlbGVjdGVkOwogICAgfSwKICAgIGhhbmRsZUZpbGVVcGxvYWQ6IGZ1bmN0aW9uIGhhbmRsZUZpbGVVcGxvYWQoKSB7CiAgICAgIHRoaXMuZmlsZVRvU2F2ZSA9IHRoaXMuJHJlZnMuZmlsZS5maWxlc1swXTsKICAgIH0sCiAgICBzdWJtaXRGaWxlOiBmdW5jdGlvbiBzdWJtaXRGaWxlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5mb3JtLm5vbSA9IHRoaXMuZmlsZVRvU2F2ZS5uYW1lOwogICAgICBmaWxlQXBpLnN1Ym1pdEZpbGVCeURpcmVjdG9yeUFuZElkQW5kRGlyZWN0b3J5KCJ1dGlsaXNhdGV1cnMiLCB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFV0aWxpc2F0ZXVyLmlkLCAiRG9zc2llclByb2pldCIsIHRoaXMuZmlsZVRvU2F2ZSk7CiAgICAgIGRvc3NpZXJQcm9qZXRBcGkuc2F2ZSh0aGlzLmZvcm0sIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXRpbGlzYXRldXIuaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpcy5yZWZyZXNoTGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICBkb3dubG9hZF9maWxlOiBmdW5jdGlvbiBkb3dubG9hZF9maWxlKGZpbGVOYW1lKSB7CiAgICAgIGZpbGVBcGkuZG93bmxvYWRCeURpcmVjdG9yeUFuZElkQW5kRGlyZWN0b3J5QW5kRmlsZW5hbWUoInV0aWxpc2F0ZXVycyIsIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXRpbGlzYXRldXIuaWQsICJEb3NzaWVyUHJvamV0IiwgZmlsZU5hbWUpOwogICAgfSwKICAgIGRlbGV0ZV9maWxlOiBmdW5jdGlvbiBkZWxldGVfZmlsZShmaWxlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZG9zc2llclByb2pldEFwaS5kZWxldGVEb3NzaWVyUHJvamV0KGZpbGUuaWQsIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXRpbGlzYXRldXIuaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczIucmVmcmVzaExpc3QoKTsKICAgICAgfSk7CiAgICAgIGZpbGVBcGkuZGVsZXRlQnlEaXJlY3RvcnlBbmRJZEFuZERpcmVjdG9yeUFuZEZpbGVuYW1lKCJ1dGlsaXNhdGV1cnMiLCB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFV0aWxpc2F0ZXVyLmlkLCAiRG9zc2llclByb2pldCIsIGZpbGUubm9tKTsKICAgIH0sCiAgICByZWZyZXNoTGlzdDogZnVuY3Rpb24gcmVmcmVzaExpc3QoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgZG9zc2llclByb2pldEFwaS5nZXRCeUlkRXR1ZGlhbnQodGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRVdGlsaXNhdGV1ci5pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLmZpbGVzID0gcmVzcG9uc2U7CiAgICAgIH0pOwogICAgICBwcm9qZXRBcGkuZ2V0QnlJZEV0dWRpYW50KHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXRpbGlzYXRldXIuaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy5wcm9qZXRzID0gcmVzcG9uc2U7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["DossierProjet.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div >\r\n      <div class=\"monBody\">\r\n        <router-view />\r\n      </div>\r\n      <div class=\"body\">\r\n        <BodyTitle title=\"Mon dossier projet\" />\r\n        <br>\r\n        <div class=\"\">\r\n          <input\r\n            type=\"file\"\r\n            id=\"file\"\r\n            ref=\"file\"\r\n            v-on:change=\"handleFileUpload()\"\r\n            class=\"mr-3\"\r\n            accept=\"application/pdf\"\r\n          />\r\n          <button v-on:click=\"submitFile()\" class=\"btn btn-primary\">Ajouter</button>\r\n        </div>\r\n        <br>\r\n        <div class=\"mon-group\">\r\n            <label class=\"form-label\"\r\n              >Selectionner un projet pour le dossier Projet :\r\n            </label>\r\n            <select\r\n              class=\"custom-select\"\r\n              v-model=\"selected\"\r\n              @change=\"onSelected()\"\r\n            >\r\n              <option\r\n                v-for=\"projet in projets_computed\"\r\n                :key=\"projet.id\"\r\n                :value=\"projet\"\r\n                >{{ projet.nom }}</option\r\n              >\r\n            </select>\r\n        </div>\r\n\r\n       <br>\r\n       <table class=\"table table-striped table-hover text-center\">\r\n          <thead>\r\n            <tr>\r\n              <th>Nom du fichier</th>\r\n              <th>Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody v-if=\"files_computed\">\r\n            <tr v-for=\"file in files_computed\" \r\n                :key=\"file.id\"\r\n                >\r\n              <td>\r\n                {{file.nom}}\r\n              </td>\r\n              <td>\r\n                <button v-on:click=\"download_file(file.nom)\">Télécharger</button>\r\n                <button v-on:click=\"delete_file(file)\">Supprimer</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n    </div>\r\n    </div>\r\n    \r\n\r\n</template>\r\n<script>\r\nimport BodyTitle from \"@/components/utils/BodyTitle.vue\";\r\nimport {dossierProjetApi} from \"@/_api/dossierProjet.api.js\";\r\nimport { fileApi } from \"@/_api/file.api.js\"\r\nimport {projetApi} from \"@/_api/projet.api.js\"\r\n\r\nexport default {\r\n  name: \"DossierPro\",\r\n  components: {\r\n    BodyTitle\r\n  }, data(){\r\n    return{\r\n\r\n      files: [],\r\n      fileToSave : \"\",\r\n      file: \"\",\r\n      projets: [],\r\n      selected: null,\r\n      form:{\r\n        nom : \"\",\r\n        projetDto :null\r\n      }\r\n    }\r\n  },\r\n created(){\r\n    this.refreshList();\r\n   },\r\n   computed: {\r\n    utilisateur() {\r\n      return this.$store.getters.getUtilisateur;\r\n      },\r\n    files_computed(){\r\n      return this.files;\r\n    },\r\n    projets_computed(){\r\n      return this.projets\r\n    }\r\n  },\r\n  methods:{\r\n    onSelected() {\r\n      this.form.projetDto = this.selected;\r\n    },\r\n      handleFileUpload() {\r\n      this.fileToSave = this.$refs.file.files[0];\r\n    },\r\n    submitFile() {    \r\n      this.form.nom = this.fileToSave.name;\r\n      fileApi.submitFileByDirectoryAndIdAndDirectory(\"utilisateurs\", this.$store.getters.getUtilisateur.id,\"DossierProjet\", this.fileToSave);\r\n      dossierProjetApi.save(this.form,this.$store.getters.getUtilisateur.id).then(()=>this.refreshList())\r\n      \r\n    },\r\n    download_file(fileName) {\r\n      fileApi.downloadByDirectoryAndIdAndDirectoryAndFilename(\"utilisateurs\", this.$store.getters.getUtilisateur.id, \"DossierProjet\",fileName);\r\n      \r\n    },\r\n    delete_file(file) {\r\n      dossierProjetApi.deleteDossierProjet(file.id,this.$store.getters.getUtilisateur.id).then(()=>this.refreshList());\r\n      fileApi.deleteByDirectoryAndIdAndDirectoryAndFilename(\"utilisateurs\", this.$store.getters.getUtilisateur.id,\"DossierProjet\", file.nom);\r\n      \r\n    },\r\n    refreshList(){\r\n    dossierProjetApi.getByIdEtudiant(this.$store.getters.getUtilisateur.id).then(response => this.files = response)\r\n    projetApi.getByIdEtudiant(this.$store.getters.getUtilisateur.id).then(response => this.projets= response)\r\n  \r\n    }\r\n  }\r\n}\r\n\r\n</script>"],"sourceRoot":"src/views/Etudiant/EspacePedagogique"}]}