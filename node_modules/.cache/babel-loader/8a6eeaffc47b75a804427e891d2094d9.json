{"remainingRequest":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\src\\components\\Modal\\FormateurModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\src\\components\\Modal\\FormateurModal.vue","mtime":1634717086023},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZm9ybWF0ZXVyQXBpIH0gZnJvbSAiLi4vLi4vX2FwaS9mb3JtYXRldXIuYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJGb3JtYXRldXJNb2RhbCIsCiAgcHJvcHM6IHsKICAgIGlkTmFtZTogU3RyaW5nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudFBhZ2U6IDAsCiAgICAgIHBlclBhZ2U6IDUsCiAgICAgIGtleXdvcmQ6ICIiLAogICAgICBwYWdlQ291bnQ6IDAsCiAgICAgIGl0ZW1zOiBbXSwKICAgICAgZm9ybWF0ZXVyOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZpbGxMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmaWxsTGlzdDogZnVuY3Rpb24gZmlsbExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBmb3JtYXRldXJBcGkuZ2V0QWxsRm9ybWF0ZXVyKHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucGVyUGFnZSwgdGhpcy5rZXl3b3JkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLml0ZW1zID0gZGF0YTsKICAgICAgfSk7CiAgICAgIHRoaXMuY291bnQoKTsKICAgIH0sCiAgICBjb3VudDogZnVuY3Rpb24gY291bnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZm9ybWF0ZXVyQXBpLmNvdW50Rm9ybWF0ZXVycyh0aGlzLmtleSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczIucGFnZUNvdW50ID0gTWF0aC5jZWlsKGRhdGEgLyBfdGhpczIucGVyUGFnZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIHBhZ2VDaGFuZ2UocGFnZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGZvcm1hdGV1ckFwaS5nZXRBbGxGb3JtYXRldXIocGFnZSwgdGhpcy5wZXJQYWdlLCB0aGlzLmtleSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczMuaXRlbXMgPSBkYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuZmlsbExpc3QoKTsKICAgICAgdGhpcy5jb3VudCgpOwogICAgfSwKICAgIGFkZFRyYWluZXI6IGZ1bmN0aW9uIGFkZFRyYWluZXIodHJhaW5lcikgewogICAgICAvLyBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgaWYgKHRoaXMuZm9ybWF0ZXVyLnNvbWUoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLmlkID09IHRyYWluZXIuaWQ7CiAgICAgIH0pKSByZXR1cm4gJyc7CiAgICAgIHRoaXMuZm9ybWF0ZXVyLnB1c2godHJhaW5lcik7CiAgICB9LAogICAgcmVtb3ZlUHJvbW86IGZ1bmN0aW9uIHJlbW92ZVByb21vKGluZGV4KSB7CiAgICAgIHRoaXMuZm9ybWF0ZXVyLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgb25SZXNldDogZnVuY3Rpb24gb25SZXNldChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuZm9ybWF0ZXVyID0gW107CiAgICB9LAogICAgc2F2ZUNoYW5nZTogZnVuY3Rpb24gc2F2ZUNoYW5nZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmZvcm1hdGV1cik7IC8vIGNvbnNvbGUubG9nKCJtb2RhbCIsdGhpcy5mb3JtYXRldXIpOwogICAgICAvLyAkKCIjbW9kYWwiKS5tb2RhbCgnaGlkZScpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5iUGFnZUNvbXB1dGVkOiBmdW5jdGlvbiBuYlBhZ2VDb21wdXRlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMucGFnZUNvdW50OwogICAgfSwKICAgIGtleTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5rZXl3b3JkOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldChrZXl3b3JkKSB7CiAgICAgICAgdGhpcy5rZXl3b3JkID0ga2V5d29yZDsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["FormateurModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA,SAAA,YAAA,QAAA,0BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,CADA;AAEA,MAAA,OAAA,EAAA,CAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,SAAA,EAAA,CAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA;AANA,KAAA;AAQA,GAdA;AAeA,EAAA,OAfA,qBAeA;AACA,SAAA,QAAA;AACA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,MAAA,YAAA,CACA,eADA,CACA,KAAA,WADA,EACA,KAAA,OADA,EACA,KAAA,OADA,EAEA,IAFA,CAEA,UAAA,IAAA;AAAA,eAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AAAA,OAFA;AAGA,WAAA,KAAA;AACA,KANA;AAOA,IAAA,KAPA,mBAOA;AAAA;;AACA,MAAA,YAAA,CACA,eADA,CACA,KAAA,GADA,EAEA,IAFA,CAEA,UAAA,IAAA;AAAA,eAAA,MAAA,CAAA,SAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,GAAA,MAAA,CAAA,OAAA,CAAA;AAAA,OAFA;AAGA,KAXA;AAYA,IAAA,UAZA,sBAYA,IAZA,EAYA;AAAA;;AACA,MAAA,YAAA,CACA,eADA,CACA,IADA,EACA,KAAA,OADA,EACA,KAAA,GADA,EAEA,IAFA,CAEA,UAAA,IAAA;AAAA,eAAA,MAAA,CAAA,KAAA,GAAA,IAAA;AAAA,OAFA;AAGA,KAhBA;AAiBA,IAAA,MAjBA,kBAiBA,GAjBA,EAiBA;AACA,MAAA,GAAA,CAAA,cAAA;AACA,WAAA,QAAA;AACA,WAAA,KAAA;AACA,KArBA;AAsBA,IAAA,UAtBA,sBAsBA,OAtBA,EAsBA;AACA;AACA,UAAA,KAAA,SAAA,CAAA,IAAA,CAAA,UAAA,EAAA;AAAA,eAAA,EAAA,CAAA,EAAA,IAAA,OAAA,CAAA,EAAA;AAAA,OAAA,CAAA,EACA,OAAA,EAAA;AACA,WAAA,SAAA,CAAA,IAAA,CAAA,OAAA;AACA,KA3BA;AA4BA,IAAA,WA5BA,uBA4BA,KA5BA,EA4BA;AACA,WAAA,SAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,KA9BA;AA+BA,IAAA,OA/BA,mBA+BA,GA/BA,EA+BA;AACA,MAAA,GAAA,CAAA,cAAA;AACA,WAAA,SAAA,GAAA,EAAA;AACA,KAlCA;AAmCA,IAAA,UAnCA,wBAmCA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,KAAA,SAAA,EADA,CAEA;AACA;AACA;AAvCA,GAlBA;AA2DA,EAAA,QAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,aAAA,KAAA,SAAA;AACA,KAHA;AAIA,IAAA,GAAA,EAAA;AACA,MAAA,GAAA,EAAA,eAAA;AACA,eAAA,KAAA,OAAA;AACA,OAHA;AAIA,MAAA,GAAA,EAAA,aAAA,OAAA,EAAA;AACA,aAAA,OAAA,GAAA,OAAA;AACA;AANA;AAJA;AA3DA,CAAA","sourcesContent":["<template>\r\n  <section>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade custom-modal\" :id=\"idName\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-xl\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Ajouter des formateurs</h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"container-fluid\">\r\n              <div class=\"row-fluid\">\r\n                <form action=\"\" class=\"d-flex\" @submit=\"search\">\r\n                  <input type=\"search\" name=\"search\" id=\"searchCursus\" v-model=\"key\"\r\n                    class=\"form-control rounded-0 input-search\" placeholder=\"Rechercher...\" />\r\n                  <button type=\"submit\" class=\"btn radius px-4 btn-search\">\r\n                    <font-awesome-icon :icon=\"['fas', 'search']\" class=\"icon\" />\r\n                  </button>\r\n                </form>\r\n              </div>\r\n              <div class=\"row mt-3\">\r\n                <div class=\"col-md-6\">\r\n                  <small class=\"form-text info-text\">\r\n                    <font-awesome-icon :icon=\"['fas', 'info-circle']\" />\r\n                    Selectionnez un ou plusieurs formateurs.</small>\r\n                  <table class=\"table text-center\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th scope=\"col\">Formateur</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"trainer in items\" :key=\"trainer.id\">\r\n                        <td @click.prevent=\"addTrainer(trainer)\">\r\n                          <span>{{ trainer.nom }} {{ trainer.prenom }} </span>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n\r\n                  <paginate :page-count=\"nbPageComputed\" :page-range=\"1\" :margin-pages=\"2\" :click-handler=\"pageChange\"\r\n                    :prev-text=\"'Prev'\" :next-text=\"'Next'\" :container-class=\"'pagination d-flex justify-content-end'\"\r\n                    :page-class=\"'page-item'\" :page-link-class=\"'page-link'\" :prev-class=\"'page-item'\"\r\n                    :next-class=\"'page-item'\" :prev-link-class=\"'page-link'\" :next-link-class=\"'page-link'\"\r\n                    :active-class=\"'active'\">\r\n                    >\r\n                  </paginate>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                  <div class=\"card h-100 p-2\">\r\n                    <div class=\"card-header\">\r\n                      <h6 class=\"text-center\">Formateurs selectionn√©e</h6>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                      <ul>\r\n                        <div class=\"alert alert-custom\" v-for=\"(f,index) in formateur\" :key=\"f.id\">\r\n                          <span class=\"close\" @click.prevent=\"removePromo(index)\">&times;</span>\r\n                         {{f.nom}} {{f.prenom}}\r\n                        </div>\r\n\r\n                      </ul>\r\n                    </div>\r\n                    <button class=\"btn btn-outline-dark\" @click=\"onReset\" v-if=\"formateur.length > 0\">Reset</button>\r\n                  </div>\r\n                  <!-- {{items}} -->\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"modal-footer mt-2\">\r\n              <button type=\"button\" class=\"btn btn-outline-info px-5\" @click=\"saveChange\" data-dismiss=\"modal\">\r\n                Envoyer\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\n  import { formateurApi } from \"../../_api/formateur.api\";\r\n  export default {\r\n    name: \"FormateurModal\",\r\n    props: {\r\n      idName: String,\r\n    },\r\n    data() {\r\n      return {\r\n        currentPage: 0,\r\n        perPage: 5,\r\n        keyword: \"\",\r\n        pageCount: 0,\r\n        items: [],\r\n        formateur: [],\r\n      };\r\n    },\r\n    created() {\r\n      this.fillList();\r\n    },\r\n    methods: {\r\n      fillList() {\r\n        formateurApi\r\n          .getAllFormateur(this.currentPage, this.perPage, this.keyword)\r\n          .then((data) => this.items = data);\r\n        this.count();\r\n      },\r\n      count() {\r\n        formateurApi\r\n          .countFormateurs(this.key)\r\n          .then((data) => (this.pageCount = Math.ceil(data / this.perPage)));\r\n      },\r\n      pageChange(page) {\r\n        formateurApi\r\n          .getAllFormateur(page, this.perPage, this.key)\r\n          .then((data) => (this.items = data));\r\n      },\r\n      search(evt) {\r\n        evt.preventDefault();\r\n        this.fillList();\r\n        this.count();\r\n      },\r\n      addTrainer(trainer) {\r\n        // evt.preventDefault();\r\n        if (this.formateur.some(el => el.id == trainer.id))\r\n          return ''\r\n        this.formateur.push(trainer);\r\n      },\r\n      removePromo(index) {\r\n        this.formateur.splice(index, 1)\r\n      },\r\n      onReset(evt) {\r\n        evt.preventDefault();\r\n        this.formateur = []\r\n      },\r\n      saveChange() {\r\n        this.$emit('input', this.formateur);\r\n        // console.log(\"modal\",this.formateur);\r\n        // $(\"#modal\").modal('hide');\r\n      }\r\n    },\r\n    computed: {\r\n      nbPageComputed() {\r\n        return this.pageCount;\r\n      },\r\n      key: {\r\n        get: function () {\r\n          return this.keyword;\r\n        },\r\n        set: function (keyword) {\r\n          this.keyword = keyword;\r\n        },\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .input-search {\r\n    outline: none;\r\n  }\r\n\r\n  .btn-search:focus,\r\n  .input-search:focus {\r\n    outline: none;\r\n    outline-offset: 0;\r\n    outline-width: 2px;\r\n    box-shadow: none;\r\n  }\r\n\r\n  .btn-search {\r\n    background-color: rgb(88, 116, 161);\r\n  }\r\n\r\n  .icon {\r\n    color: #fff;\r\n  }\r\n\r\n  .radius {\r\n    border-radius: 0 5px 5px 0;\r\n  }\r\n  \r\n  .info-text {\r\n    color: #2867bc;\r\n  }\r\n\r\n  td:hover {\r\n    background-color: #645e5998;\r\n  }\r\n\r\n  .alert-custom {\r\n    background-color: #0f84ba7a;\r\n  }\r\n\r\n  .close,\r\n  td {\r\n    cursor: pointer;\r\n  }\r\n</style>"],"sourceRoot":"src/components/Modal"}]}