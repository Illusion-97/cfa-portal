{"remainingRequest":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\src\\components\\Modal\\FormateurModal.vue?vue&type=style&index=0&id=0d904e18&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\src\\components\\Modal\\FormateurModal.vue","mtime":1634717086023},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmlucHV0LXNlYXJjaCB7CiAgb3V0bGluZTogbm9uZTsKfQoKLmJ0bi1zZWFyY2g6Zm9jdXMsCi5pbnB1dC1zZWFyY2g6Zm9jdXMgewogIG91dGxpbmU6IG5vbmU7CiAgb3V0bGluZS1vZmZzZXQ6IDA7CiAgb3V0bGluZS13aWR0aDogMnB4OwogIGJveC1zaGFkb3c6IG5vbmU7Cn0KCi5idG4tc2VhcmNoIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoODgsIDExNiwgMTYxKTsKfQoKLmljb24gewogIGNvbG9yOiAjZmZmOwp9CgoucmFkaXVzIHsKICBib3JkZXItcmFkaXVzOiAwIDVweCA1cHggMDsKfQoKLmluZm8tdGV4dCB7CiAgY29sb3I6ICMyODY3YmM7Cn0KCnRkOmhvdmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjQ1ZTU5OTg7Cn0KCi5hbGVydC1jdXN0b20gewogIGJhY2tncm91bmQtY29sb3I6ICMwZjg0YmE3YTsKfQoKLmNsb3NlLAp0ZCB7CiAgY3Vyc29yOiBwb2ludGVyOwp9Cg=="},{"version":3,"sources":["FormateurModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"FormateurModal.vue","sourceRoot":"src/components/Modal","sourcesContent":["<template>\r\n  <section>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade custom-modal\" :id=\"idName\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-xl\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Ajouter des formateurs</h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"container-fluid\">\r\n              <div class=\"row-fluid\">\r\n                <form action=\"\" class=\"d-flex\" @submit=\"search\">\r\n                  <input type=\"search\" name=\"search\" id=\"searchCursus\" v-model=\"key\"\r\n                    class=\"form-control rounded-0 input-search\" placeholder=\"Rechercher...\" />\r\n                  <button type=\"submit\" class=\"btn radius px-4 btn-search\">\r\n                    <font-awesome-icon :icon=\"['fas', 'search']\" class=\"icon\" />\r\n                  </button>\r\n                </form>\r\n              </div>\r\n              <div class=\"row mt-3\">\r\n                <div class=\"col-md-6\">\r\n                  <small class=\"form-text info-text\">\r\n                    <font-awesome-icon :icon=\"['fas', 'info-circle']\" />\r\n                    Selectionnez un ou plusieurs formateurs.</small>\r\n                  <table class=\"table text-center\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th scope=\"col\">Formateur</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"trainer in items\" :key=\"trainer.id\">\r\n                        <td @click.prevent=\"addTrainer(trainer)\">\r\n                          <span>{{ trainer.nom }} {{ trainer.prenom }} </span>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n\r\n                  <paginate :page-count=\"nbPageComputed\" :page-range=\"1\" :margin-pages=\"2\" :click-handler=\"pageChange\"\r\n                    :prev-text=\"'Prev'\" :next-text=\"'Next'\" :container-class=\"'pagination d-flex justify-content-end'\"\r\n                    :page-class=\"'page-item'\" :page-link-class=\"'page-link'\" :prev-class=\"'page-item'\"\r\n                    :next-class=\"'page-item'\" :prev-link-class=\"'page-link'\" :next-link-class=\"'page-link'\"\r\n                    :active-class=\"'active'\">\r\n                    >\r\n                  </paginate>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                  <div class=\"card h-100 p-2\">\r\n                    <div class=\"card-header\">\r\n                      <h6 class=\"text-center\">Formateurs selectionn√©e</h6>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                      <ul>\r\n                        <div class=\"alert alert-custom\" v-for=\"(f,index) in formateur\" :key=\"f.id\">\r\n                          <span class=\"close\" @click.prevent=\"removePromo(index)\">&times;</span>\r\n                         {{f.nom}} {{f.prenom}}\r\n                        </div>\r\n\r\n                      </ul>\r\n                    </div>\r\n                    <button class=\"btn btn-outline-dark\" @click=\"onReset\" v-if=\"formateur.length > 0\">Reset</button>\r\n                  </div>\r\n                  <!-- {{items}} -->\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"modal-footer mt-2\">\r\n              <button type=\"button\" class=\"btn btn-outline-info px-5\" @click=\"saveChange\" data-dismiss=\"modal\">\r\n                Envoyer\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\n  import { formateurApi } from \"../../_api/formateur.api\";\r\n  export default {\r\n    name: \"FormateurModal\",\r\n    props: {\r\n      idName: String,\r\n    },\r\n    data() {\r\n      return {\r\n        currentPage: 0,\r\n        perPage: 5,\r\n        keyword: \"\",\r\n        pageCount: 0,\r\n        items: [],\r\n        formateur: [],\r\n      };\r\n    },\r\n    created() {\r\n      this.fillList();\r\n    },\r\n    methods: {\r\n      fillList() {\r\n        formateurApi\r\n          .getAllFormateur(this.currentPage, this.perPage, this.keyword)\r\n          .then((data) => this.items = data);\r\n        this.count();\r\n      },\r\n      count() {\r\n        formateurApi\r\n          .countFormateurs(this.key)\r\n          .then((data) => (this.pageCount = Math.ceil(data / this.perPage)));\r\n      },\r\n      pageChange(page) {\r\n        formateurApi\r\n          .getAllFormateur(page, this.perPage, this.key)\r\n          .then((data) => (this.items = data));\r\n      },\r\n      search(evt) {\r\n        evt.preventDefault();\r\n        this.fillList();\r\n        this.count();\r\n      },\r\n      addTrainer(trainer) {\r\n        // evt.preventDefault();\r\n        if (this.formateur.some(el => el.id == trainer.id))\r\n          return ''\r\n        this.formateur.push(trainer);\r\n      },\r\n      removePromo(index) {\r\n        this.formateur.splice(index, 1)\r\n      },\r\n      onReset(evt) {\r\n        evt.preventDefault();\r\n        this.formateur = []\r\n      },\r\n      saveChange() {\r\n        this.$emit('input', this.formateur);\r\n        // console.log(\"modal\",this.formateur);\r\n        // $(\"#modal\").modal('hide');\r\n      }\r\n    },\r\n    computed: {\r\n      nbPageComputed() {\r\n        return this.pageCount;\r\n      },\r\n      key: {\r\n        get: function () {\r\n          return this.keyword;\r\n        },\r\n        set: function (keyword) {\r\n          this.keyword = keyword;\r\n        },\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .input-search {\r\n    outline: none;\r\n  }\r\n\r\n  .btn-search:focus,\r\n  .input-search:focus {\r\n    outline: none;\r\n    outline-offset: 0;\r\n    outline-width: 2px;\r\n    box-shadow: none;\r\n  }\r\n\r\n  .btn-search {\r\n    background-color: rgb(88, 116, 161);\r\n  }\r\n\r\n  .icon {\r\n    color: #fff;\r\n  }\r\n\r\n  .radius {\r\n    border-radius: 0 5px 5px 0;\r\n  }\r\n  \r\n  .info-text {\r\n    color: #2867bc;\r\n  }\r\n\r\n  td:hover {\r\n    background-color: #645e5998;\r\n  }\r\n\r\n  .alert-custom {\r\n    background-color: #0f84ba7a;\r\n  }\r\n\r\n  .close,\r\n  td {\r\n    cursor: pointer;\r\n  }\r\n</style>"]}]}