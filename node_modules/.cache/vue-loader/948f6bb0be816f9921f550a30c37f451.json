{"remainingRequest":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\src\\components\\Etudiant\\HomeEtudiant.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\src\\components\\Etudiant\\HomeEtudiant.vue","mtime":1634637104432},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin stagiaire.DESKTOP-8967908\\Desktop\\Projet_CFA\\AppliCFAFront\\cfa-portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vQVRURU5USU9OIDogdW4gw6l0dWRpYW50IGEgcG90ZW50aWVsbGVtZW50IHBsdXNpZXVycyBwcm9tb3Rpb25zCi8vYWZmaWNoYWdlIGR1IHJlZmVyZW50IGRlIHByb21vdGlvbiA/IHRvdXMgPyB1biBzZXVsID8gc2kgdW4gc2V1bCwgbGVxdWVsID8KLy9Qb3VyIGwnaW5zdGFudCwgb24gYWZmaWNoZSBsZSByZWZlcmVudCBkZSBsYSBwcmVtaWVyZSBwcm9tb3Rpb24gcmVjdSBwYXIgbCdhcGkKaW1wb3J0IHsgZXR1ZGlhbnRBcGkgfSBmcm9tICJAL19hcGkvZXR1ZGlhbnQuYXBpLmpzIjsKaW1wb3J0IFBsYW5uaW5nIGZyb20gIkAvY29tcG9uZW50cy91dGlscy9QbGFubmluZy52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWVFdHVkaWFudCIsCiAgY29tcG9uZW50czogewogICAgUGxhbm5pbmcsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybWF0ZXVyUmVmZXJlbnQ6IHt9LAogICAgICBwcm9tb3Rpb25zOiBbXSwKICAgICAgZ3JvdXBlczogW3sKICAgICAgICBpZDogIiIsCiAgICAgICAgbm9tOiAiIgogICAgICB9XSwKICAgICAgbWFuYWdlcjoge30sCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHV0aWxpc2F0ZXVyKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRVdGlsaXNhdGV1cjsKICAgIH0sCiAgICBwcm9tb3Rpb25Db21wdXRlZCgpIHsKICAgICAgbGV0IHByb21vdGlvbiA9IHsKICAgICAgICByZWZlcmVudFBlZGFnb2dpcXVlRHRvOiAiIiwKICAgICAgfTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnByb21vdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBsZXQgZGF0ZURlYnV0ID0gbmV3IERhdGUodGhpcy5wcm9tb3Rpb25zW2ldLmRhdGVEZWJ1dCk7CiAgICAgICAgbGV0IGRhdGVGaW4gPSBuZXcgRGF0ZSh0aGlzLnByb21vdGlvbnNbaV0uZGF0ZUZpbik7CiAgICAgICAgaWYgKAogICAgICAgICAgZGF0ZURlYnV0LmdldFRpbWUoKSA8PSBEYXRlLm5vdygpICYmCiAgICAgICAgICBkYXRlRmluLmdldFRpbWUoKSA+PSBEYXRlLm5vdygpCiAgICAgICAgKSB7CiAgICAgICAgICBwcm9tb3Rpb24gPSB0aGlzLnByb21vdGlvbnNbaV07CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBwcm9tb3Rpb247CiAgICB9LAogICAgZ3JvdXBlc0NvbXB1dGVkKCkgewogICAgICByZXR1cm4gdGhpcy5ncm91cGVzOwogICAgfSwKICAgIGZvcm1hdGV1clJlZmVyZW50Q29tcHV0ZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmZvcm1hdGV1clJlZmVyZW50OwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBldHVkaWFudEFwaQogICAgICAuZ2V0Rm9ybWF0ZXVyUmVmZXJlbnQodGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRVdGlsaXNhdGV1ci5pZCkKICAgICAgLnRoZW4oKGRhdGEpID0+ICh0aGlzLmZvcm1hdGV1clJlZmVyZW50ID0gZGF0YSkpOwogICAgZXR1ZGlhbnRBcGkKICAgICAgLmdldFByb21vdGlvbnModGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRVdGlsaXNhdGV1ci5pZCkKICAgICAgLnRoZW4oKGRhdGEpID0+ICh0aGlzLnByb21vdGlvbnMgPSBkYXRhKSk7CiAgICBldHVkaWFudEFwaQogICAgICAuZ2V0TWFuYWdlcih0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFV0aWxpc2F0ZXVyLmlkKQogICAgICAudGhlbigoZGF0YSkgPT4gKHRoaXMubWFuYWdlciA9IGRhdGEpKTsKICAgIGV0dWRpYW50QXBpCiAgICAgIC5nZXRHcm91cGVzKHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXRpbGlzYXRldXIuaWQpCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gKHRoaXMuZ3JvdXBlcyA9IHJlc3BvbnNlKSk7CiAgfSwKICBtZXRob2RzOiB7fSwKfTsK"},{"version":3,"sources":["HomeEtudiant.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HomeEtudiant.vue","sourceRoot":"src/components/Etudiant","sourcesContent":["<template>\r\n  <div id=\"grid-container\">\r\n \r\n\r\n    <div id=\"grid-container2\">  \r\n    <ul id=\"list-lien\">\r\n      <li>\r\n        <router-link class=\"nav-item first\" :to=\"{ name: 'etudiant_espace-peda_cursus' }\">Cursus</router-link>\r\n      </li>\r\n      <li>\r\n        <router-link class=\"nav-item border-right-0\" :to=\"{ name: 'etudiant_espace-peda_devoirs' }\">Devoirs</router-link>\r\n      </li>\r\n      <li>\r\n        <router-link class=\"nav-item border-right-0\" :to=\"{ name: 'etudiant_espace-peda_notes' }\">Bulletin de notes</router-link>\r\n      </li>\r\n      <li>\r\n        <router-link class=\"nav-item last\" :to=\"{ name: 'etudiant_espace-peda_absences' }\">Absences / Retards</router-link>\r\n      </li>\r\n    </ul>\r\n      <div id=\"identite\">\r\n        <p class=\"nom\">{{ utilisateur.prenom }} {{ utilisateur.nom }}</p>\r\n        <p class=\"email\">{{ utilisateur.login }}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"student-info\">\r\n      <div class=\"card py-0 px-3 ml-3\">\r\n        <div class=\"card-header\">\r\n          Information\r\n        </div>\r\n        <div class=\"formateur-ref text-center\">\r\n          <p class=\"font-weight-bold h5\">Formateur referent :</p>\r\n          <p class=\"my-1\">\r\n            {{ formateurReferent.prenom }} {{ formateurReferent.nom }}\r\n          </p>\r\n          <p>{{ formateurReferent.login }}</p>\r\n        </div>\r\n        <div class=\"referent-peda text-center\">\r\n          <p class=\"font-weight-bold h5\">Referent pedagogique :</p>\r\n          <p class=\"my-1\">\r\n            {{ promotionComputed.referentPedagogiqueDto.prenom }}\r\n            {{ promotionComputed.referentPedagogiqueDto.nom }}\r\n          </p>\r\n          <p>{{ promotionComputed.referentPedagogiqueDto.login }}</p>\r\n        </div>\r\n        <div class=\"manager text-center\">\r\n          <p class=\"font-weight-bold h5\">Manager :</p>\r\n          <p class=\"my-1\">{{ manager.prenom }} {{ manager.nom }}</p>\r\n          <p>{{ manager.login }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"student-info_bis\">\r\n      <div class=\"card py-0 px-3 mr-3\">\r\n        <div class=\"card-header\">\r\n          Information cursus\r\n        </div>\r\n        <div class=\"promo text-center\">\r\n          <p class=\"font-weight-bold h5\">Promotion actuelle :</p>\r\n          <p class=\"my-1\">{{ promotionComputed.nom }}</p>\r\n        </div>\r\n        <div class=\"groupe text-center\">\r\n          <p class=\"font-weight-bold h5\">Groupe projet actuel :</p>\r\n          <p class=\"my-2\">{{ groupesComputed[0].nom }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div id=\"student-planning\">\r\n      <Planning />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  //ATTENTION : un Ã©tudiant a potentiellement plusieurs promotions\r\n  //affichage du referent de promotion ? tous ? un seul ? si un seul, lequel ?\r\n  //Pour l'instant, on affiche le referent de la premiere promotion recu par l'api\r\n  import { etudiantApi } from \"@/_api/etudiant.api.js\";\r\n  import Planning from \"@/components/utils/Planning.vue\";\r\n  export default {\r\n    name: \"HomeEtudiant\",\r\n    components: {\r\n      Planning,\r\n    },\r\n    data() {\r\n      return {\r\n        formateurReferent: {},\r\n        promotions: [],\r\n        groupes: [{\r\n          id: \"\",\r\n          nom: \"\"\r\n        }],\r\n        manager: {},\r\n      };\r\n    },\r\n    computed: {\r\n      utilisateur() {\r\n        return this.$store.getters.getUtilisateur;\r\n      },\r\n      promotionComputed() {\r\n        let promotion = {\r\n          referentPedagogiqueDto: \"\",\r\n        };\r\n        for (let i = 0; i < this.promotions.length; i++) {\r\n          let dateDebut = new Date(this.promotions[i].dateDebut);\r\n          let dateFin = new Date(this.promotions[i].dateFin);\r\n          if (\r\n            dateDebut.getTime() <= Date.now() &&\r\n            dateFin.getTime() >= Date.now()\r\n          ) {\r\n            promotion = this.promotions[i];\r\n          }\r\n        }\r\n        return promotion;\r\n      },\r\n      groupesComputed() {\r\n        return this.groupes;\r\n      },\r\n      formateurReferentComputed() {\r\n        return this.formateurReferent;\r\n      },\r\n    },\r\n    created() {\r\n      etudiantApi\r\n        .getFormateurReferent(this.$store.getters.getUtilisateur.id)\r\n        .then((data) => (this.formateurReferent = data));\r\n      etudiantApi\r\n        .getPromotions(this.$store.getters.getUtilisateur.id)\r\n        .then((data) => (this.promotions = data));\r\n      etudiantApi\r\n        .getManager(this.$store.getters.getUtilisateur.id)\r\n        .then((data) => (this.manager = data));\r\n      etudiantApi\r\n        .getGroupes(this.$store.getters.getUtilisateur.id)\r\n        .then((response) => (this.groupes = response));\r\n    },\r\n    methods: {},\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  #grid-container {\r\n    display: grid;\r\n    grid-template-columns: 1fr 5fr 1fr;\r\n    grid-template-rows: 55vh 2fr;\r\n    row-gap: 2em;\r\n  }\r\n\r\n  #grid-container2,\r\n  #student-info,\r\n  #student-info_bis {\r\n    background-color: #d0d0d0c4;\r\n  }\r\n\r\n  #list-lien {\r\n    /* grid-column: 2; */\r\n    grid-row: 1;\r\n    list-style: none;\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-top: 1em;\r\n  /* z-index: 1; */\r\n  }\r\n\r\n  #list-lien .nav-item {\r\n    /* text-transform: uppercase; */\r\n    font-style: italic !important;\r\n    color: black;\r\n    padding: 0.1em 4em;\r\n    /* border: 1px solid black; */\r\n    background: #fff; \r\n  }\r\n\r\n  #list-lien .nav-item:hover {\r\n    text-decoration: none;\r\n    background: #c000009a;\r\n  }\r\n\r\n  #list-lien .first {\r\n    border-radius: 20px 0 0 20px;\r\n    border-right: 0;\r\n  }\r\n\r\n  #list-lien .last {\r\n    border-radius: 0 20px 20px 0;\r\n  }\r\n\r\n  #grid-container2 {\r\n    grid-row: 1;\r\n    grid-column: 2;\r\n    display: grid;\r\n    grid-template-rows: 0.5fr 3fr;\r\n  }\r\n  #identite {\r\n    text-align: center;\r\n    /* grid-column: 2; */\r\n    grid-row: 2;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    /* border: 1px solid black; */\r\n  }\r\n\r\n  #identite>.nom {\r\n    font-size: 35px;\r\n    text-transform: uppercase;\r\n  }\r\n\r\n  #identite>.email {\r\n    font-size: 20px;\r\n  }\r\n\r\n  #student-info {\r\n    grid-column: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n\r\n  #student-info_bis {\r\n    grid-column: 3;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n\r\n  #student-planning {\r\n    grid-row: 2;\r\n    grid-column: 1 / span 3;\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n\r\n  .card {\r\n    width: 18.5em;\r\n    margin: 0 auto;\r\n    border-radius: 0;\r\n    /* height: 11em; */\r\n  }\r\n\r\n  .card-header {\r\n    font-size: 20px;\r\n    background-color: inherit;\r\n    text-align: center;\r\n    margin-bottom: 1em;\r\n    margin-top: 0;\r\n  }\r\n\r\n  .card-text {\r\n    font-size: 1.2em;\r\n  }\r\n</style>"]}]}